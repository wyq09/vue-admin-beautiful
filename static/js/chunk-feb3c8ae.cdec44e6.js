/*!
 *  基于vue-admin-beautiful构建 
 *  copyright: chuzhixin 1204505056@qq.com 
 *  time: 2020-7-2 12:48:39
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-feb3c8ae"],{ad8f:function(e,t,n){"use strict";n.r(t),n.d(t,"getList",(function(){return r})),n.d(t,"doEdit",(function(){return o})),n.d(t,"doDelete",(function(){return l}));var a=n("b775");function r(e){return Object(a["default"])({url:"/table/getList",method:"post",data:e})}function o(e){return Object(a["default"])({url:"/table/doEdit",method:"post",data:e})}function l(e){return Object(a["default"])({url:"/table/doDelete",method:"post",data:e})}},b8245:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"export-merge-header-excel-container"},[n("vab-query-form",[n("vab-query-form-left-panel",{attrs:{span:24}},[n("el-button",{attrs:{loading:e.downloadLoading,type:"primary"},on:{click:e.handleDownload}},[e._v("导出 ")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",attrs:{data:e.list}},[n("el-table-column",{attrs:{label:"序号",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),n("el-table-column",{attrs:{label:"Main Information"}},[n("el-table-column",{attrs:{label:"Title"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.title)+" ")]}}])}),n("el-table-column",{attrs:{label:"Author"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",[e._v(e._s(t.row.author))])]}}])}),n("el-table-column",{attrs:{label:"Readings"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.pageViews)+" ")]}}])})],1),n("el-table-column",{attrs:{label:"Date"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.datetime))])]}}])})],1)],1)},r=[],o=(n("2eeb"),n("e18c"),n("b449"),n("85ff")),l=n("ad8f"),i=n("ed08"),u={name:"MergeHeader",data:function(){return{list:null,listLoading:!0,downloadLoading:!1}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.next=3,Object(l["getList"])(e.listQuery);case 3:n=t.sent,a=n.data,e.list=a,e.listLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},handleDownload:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,o,l,i,u,s,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.downloadLoading=!0,t.next=3,Promise.all([n.e("chunk-5e8c4544"),n.e("chunk-079281f4")]).then(n.bind(null,"6ef2"));case 3:a=t.sent,r=a.export_json_to_excel,o=[["Id","Main Information","","","Date"]],l=["","Title","Author","Readings",""],i=["id","title","author","pageViews","datetime"],u=e.list,s=e.formatJson(i,u),d=["A1:A2","B1:D1","E1:E2"],r({multiHeader:o,header:l,merges:d,data:s}),e.downloadLoading=!1;case 13:case"end":return t.stop()}}),t)})))()},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return"timestamp"===e?Object(i["parseTime"])(t[e]):t[e]}))}))}}},s=u,d=n("9ca4"),c=Object(d["a"])(s,a,r,!1,null,null,null);t["default"]=c.exports}}]);